"use strict";

/**
 * Created by daniel on 20.11.15.
 */

var sheetsApp = angular.module("sheetsApp", []);

/**
 * Created by daniel on 22.11.15.
 */
sheetsApp.factory("Sheets", function ($http) {

    var sheetsFac = {};

    sheetsFac.getAll = function () {
        return $http.get("/api/sheets").then(function (resp) {
            return resp.data;
        });
    };

    return sheetsFac;
});
/**
 * Created by daniel on 21.11.15.
 */
sheetsApp.directive("sheet", function () {
    return {
        restrict: "E",
        replace: true,
        scope: {
            "sheet": "=data"
        },
        templateUrl: "/modules/common/directives/sheet/sheet.html",
        link: function link(scope) {}
    };
});
/**
 * Created by daniel on 21.11.15.
 */
sheetsApp.directive("sheetGrid", function (Sheets) {
    return {
        restrict: "E",
        replace: true,
        scope: {
            sheets: "=",
            sheetsPerRow: "=sheetsPerRow"
        },
        templateUrl: "/modules/common/directives/sheetgrid/sheetgrid.html",
        link: function link(scope) {
            scope.sheetsPerRow = Number(scope.sheetsPerRow) || 4;
            scope.rows = [];

            Sheets.getAll().then(function (sheets) {
                var currentRow = [];
                sheets.forEach(function (sheet, index) {
                    currentRow.push(sheet);
                    if (currentRow.length === scope.sheetsPerRow || index === sheets.length - 1) {
                        scope.rows.push(currentRow);
                        currentRow = [];
                    }
                });
            });
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbW1vbi9mYWN0b3JpZXMvc2hlZXQuZmFjdG9yeS5qcyIsImNvbW1vbi9kaXJlY3RpdmVzL3NoZWV0L3NoZWV0LmRpcmVjdGl2ZS5qcyIsImNvbW1vbi9kaXJlY3RpdmVzL3NoZWV0Z3JpZC9zaGVldGdyaWQuZGlyZWN0aXZlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUlBLElBQUEsU0FBQSxHQUFBLE9BQUEsQ0FBQSxNQUFBLENBQUEsV0FBQSxFQUFBLEVBQUEsQ0FBQTs7Ozs7QUFBQSxBQ0RBLFNBQUEsQ0FBQSxPQUFBLENBQUEsUUFBQSxFQUFBLFVBQUEsS0FBQSxFQUFBOztBQUVBLFFBQUEsU0FBQSxHQUFBLEVBQUEsQ0FBQTs7QUFFQSxhQUFBLENBQUEsTUFBQSxHQUFBLFlBQUE7QUFDQSxlQUFBLEtBQUEsQ0FBQSxHQUFBLENBQUEsYUFBQSxDQUFBLENBQUEsSUFBQSxDQUFBLFVBQUEsSUFBQTttQkFBQSxJQUFBLENBQUEsSUFBQTtTQUFBLENBQUEsQ0FBQTtLQUNBLENBQUE7O0FBRUEsV0FBQSxTQUFBLENBQUE7Q0FFQSxDQUFBOzs7O0FBQUEsQUNWQSxTQUFBLENBQUEsU0FBQSxDQUFBLE9BQUEsRUFBQSxZQUFBO0FBQ0EsV0FBQTtBQUNBLGdCQUFBLEVBQUEsR0FBQTtBQUNBLGVBQUEsRUFBQSxJQUFBO0FBQ0EsYUFBQSxFQUFBO0FBQ0EsbUJBQUEsRUFBQSxPQUFBO1NBQ0E7QUFDQSxtQkFBQSxFQUFBLDZDQUFBO0FBQ0EsWUFBQSxFQUFBLGNBQUEsS0FBQSxFQUFBLEVBQ0E7S0FDQSxDQUFBO0NBQ0EsQ0FBQTs7OztBQUFBLEFDWEEsU0FBQSxDQUFBLFNBQUEsQ0FBQSxXQUFBLEVBQUEsVUFBQSxNQUFBLEVBQUE7QUFDQSxXQUFBO0FBQ0EsZ0JBQUEsRUFBQSxHQUFBO0FBQ0EsZUFBQSxFQUFBLElBQUE7QUFDQSxhQUFBLEVBQUE7QUFDQSxrQkFBQSxFQUFBLEdBQUE7QUFDQSx3QkFBQSxFQUFBLGVBQUE7U0FDQTtBQUNBLG1CQUFBLEVBQUEscURBQUE7QUFDQSxZQUFBLEVBQUEsY0FBQSxLQUFBLEVBQUE7QUFDQSxpQkFBQSxDQUFBLFlBQUEsR0FBQSxNQUFBLENBQUEsS0FBQSxDQUFBLFlBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQTtBQUNBLGlCQUFBLENBQUEsSUFBQSxHQUFBLEVBQUEsQ0FBQTs7QUFFQSxrQkFBQSxDQUFBLE1BQUEsRUFBQSxDQUFBLElBQUEsQ0FBQSxVQUFBLE1BQUEsRUFBQTtBQUNBLG9CQUFBLFVBQUEsR0FBQSxFQUFBLENBQUE7QUFDQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxVQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUE7QUFDQSw4QkFBQSxDQUFBLElBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQTtBQUNBLHdCQUFBLFVBQUEsQ0FBQSxNQUFBLEtBQUEsS0FBQSxDQUFBLFlBQUEsSUFBQSxLQUFBLEtBQUEsTUFBQSxDQUFBLE1BQUEsR0FBQSxDQUFBLEVBQUE7QUFDQSw2QkFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsVUFBQSxDQUFBLENBQUE7QUFDQSxrQ0FBQSxHQUFBLEVBQUEsQ0FBQTtxQkFDQTtpQkFDQSxDQUFBLENBQUE7YUFDQSxDQUFBLENBQUE7U0FHQTtLQUNBLENBQUE7Q0FDQSxDQUFBLENBQUEiLCJmaWxlIjoic2hlZXRzLWJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBkYW5pZWwgb24gMjAuMTEuMTUuXG4gKi9cblxubGV0IHNoZWV0c0FwcCA9IGFuZ3VsYXIubW9kdWxlKFwic2hlZXRzQXBwXCIsIFtdKTtcblxuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGRhbmllbCBvbiAyMi4xMS4xNS5cbiAqL1xuc2hlZXRzQXBwLmZhY3RvcnkoXCJTaGVldHNcIiwgKCRodHRwKSA9PiB7XG5cbiAgICBsZXQgc2hlZXRzRmFjID0ge307XG5cbiAgICBzaGVldHNGYWMuZ2V0QWxsID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiL2FwaS9zaGVldHNcIikudGhlbigocmVzcCkgPT4gcmVzcC5kYXRhKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNoZWV0c0ZhYztcblxufSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGRhbmllbCBvbiAyMS4xMS4xNS5cbiAqL1xuc2hlZXRzQXBwLmRpcmVjdGl2ZShcInNoZWV0XCIsICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBcInNoZWV0XCI6IFwiPWRhdGFcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogXCIvbW9kdWxlcy9jb21tb24vZGlyZWN0aXZlcy9zaGVldC9zaGVldC5odG1sXCIsXG4gICAgICAgIGxpbms6IChzY29wZSkgPT4ge1xuICAgICAgICB9XG4gICAgfTtcbn0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBkYW5pZWwgb24gMjEuMTEuMTUuXG4gKi9cbnNoZWV0c0FwcC5kaXJlY3RpdmUoXCJzaGVldEdyaWRcIiwgKFNoZWV0cykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHNoZWV0czogXCI9XCIsXG4gICAgICAgICAgICBzaGVldHNQZXJSb3c6IFwiPXNoZWV0c1BlclJvd1wiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiBcIi9tb2R1bGVzL2NvbW1vbi9kaXJlY3RpdmVzL3NoZWV0Z3JpZC9zaGVldGdyaWQuaHRtbFwiLFxuICAgICAgICBsaW5rOiAoc2NvcGUpID0+IHtcbiAgICAgICAgICAgIHNjb3BlLnNoZWV0c1BlclJvdyA9IE51bWJlcihzY29wZS5zaGVldHNQZXJSb3cpIHx8IDQ7XG4gICAgICAgICAgICBzY29wZS5yb3dzID0gW107XG5cbiAgICAgICAgICAgIFNoZWV0cy5nZXRBbGwoKS50aGVuKChzaGVldHMpID0+IHtcblx0XHRcdFx0bGV0IGN1cnJlbnRSb3cgPSBbXTtcblx0XHRcdFx0c2hlZXRzLmZvckVhY2goKHNoZWV0LCBpbmRleCkgPT4ge1xuXHRcdFx0XHRcdGN1cnJlbnRSb3cucHVzaChzaGVldCk7XG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRSb3cubGVuZ3RoID09PSBzY29wZS5zaGVldHNQZXJSb3cgfHwgaW5kZXggPT09IHNoZWV0cy5sZW5ndGggLTEpIHtcblx0XHRcdFx0XHRcdHNjb3BlLnJvd3MucHVzaChjdXJyZW50Um93KTtcblx0XHRcdFx0XHRcdGN1cnJlbnRSb3cgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblxuICAgICAgICB9XG4gICAgfTtcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
